<!DOCTYPE html>
<html>

<head>

    <!-- metadata -->
    <meta charset="utf-8">
    <title>전곽위키</title>
    <link rel="stylesheet" href="../src/css/wikiStyle.css" />
    <link rel="stylesheet" href="documentStyle.css" />
    <script src="../src/js/jquery-3.4.1.min.js"></script>


</head>

<body>
    <!-- header -->
    <header>

        <div class="container" id="headContainer">
            <a href="../w/" id="logoAnker" class="fn">
                <img id="logo" src="../src/img/icon.png" alt="logo" />
            </a>
            <input id="searchTxt" type="text" class="fn" onkeydown="javascript:if(event.keyCode == 13){search();}" />
            <button id="searchBtn" class="fn"><span style="text-align: center; font-size: 16pt;">검색</span></button>
            <div id="login">

                <!-- 로그인 창 -->
                <span id="loginInput">
                    <input id="id" type="text" onkeydown="javascript:if(event.keyCode == 13){signIn($('#id').val(), $('#pw').val());}" placeholder="이메일">
                    <input id="pw" type="password" onkeydown="javascript:if(event.keyCode == 13){signIn($('#id').val(), $('#pw').val());}" placeholder="비밀번호">
                </span>
                <!-- 회원가입 창 -->
                <span id="signUpInput">
                    <input id="nick" type="text" onkeydown="javascript:if(event.keyCode == 13){signUp($('#nick').val(), $('#gisu').val());}" placeholder="이름">
                    <input id="gisu" type="text" onkeydown="javascript:if(event.keyCode == 13){signUp($('#nick').val(), $('#gisu').val());}" placeholder="기수">
                </span>
                <!-- 로그인 버튼 -->
                <span id="loginBtn" class="fn">

                    <img id="sign1" src="../src/img/sign1.png" />
                    <img id="sign2" class="hidden" src="../src/img/sign2.png" />

                </span>

                <div id="authDiv" class="hidden">
                    <p id="nickTxt"></p>
                    <img id="auth" src="../src/img/auth.png" />
                </div>

            </div>
        </div>

    </header>

    <!-- navigation -->
    <nav>
        <div id="navContainer" class="container">
            <div class="navItem">
                <ul id="navList">
                    <li class="navLi">
                        <p id="upload" class="navBtn">업로드</p>
                        <div id="uploadDiv">
                            <form id="uploadForm" method="POST">
                                <input name="file" type="file" id="file">
                                <button type="button" id="uploadBtn">업로드</button>
                            </form>
                        </div>
                    </li>
                    <li class="navLi">
                        <p class="navBtn">버튼버튼</p>
                    </li>
                    <li class="navLi">
                        <p class="navBtn">버튼버튼</p>
                    </li>

                </ul>
            </div>
        </div>
    </nav>

    <!-- content -->
    <div id="contentContainer" class="container">

        <!-- article -->
        <article class="contentItem container" id="documentContainer">

            <!-- 문서 화면 (document) -->
            <!-- .documentTitle은 문서 제목-->

            <div id="menuContainer" class="container documentItem">

                <h1 class="menuItem documentTitle">제목</h1>

                <span class="container menuItem" id="toolContainer">
                    <button class="toolItem" id="editBtn">편집</button>
                    <button class="toolItem" id="historyBtn">역사</button>
                    <button class="toolItem" id="levelBtn">권한</button>
                </span>
            </div>
            <p class="documentItem inAndOut">해당하는 문서가 존재하지 않습니다.</p>

            <pre id="historyTxt" class="documentItem">아직 만들어지지 않은 문서입니다.</pre>
        </article>

        <!-- aside -->
        <aside class="contentItem">
            <p style="font-size: 1.2em; text-align: center;">수정된 문서</p>
            <hr>
            <a href="#" id="link1"></a>
            <hr>
            <a href="#" id="link2"></a>
            <hr>
            <a href="#" id="link3"></a>
            <hr>
            <a href="#" id="link4"></a>
            <hr>
            <a href="#" id="link5"></a>
            <hr>
            <a href="#" id="link6"></a>
            <hr>
            <a href="#" id="link7"></a>
            <hr>
            <a href="#" id="link8"></a>
            <hr>
            <a href="#" id="link9"></a>
            <hr>
            <a href="#" id="link10"></a>
            <hr>
        </aside>
    </div>
    <!--가운데 정렬 실패..두 p태그 사이에 큰 공간 생김-->
    <!--그리고 사이트 전체에 적용 안 됨-->
    <!--라이브러리에서 index 켰을 때만 됨-->
    <footer>
        <div class="container" id="footerContainer">

            <p class="footerItem">일단 가운데 정렬이 되게 바꿔보았다.</p>
            <p class="footerItem">로고 작게 한번 더 넣고 'made by (신설동아리)' 이런 거 넣으면 좋을 듯</p>

        </div>
    </footer>

    <!-- firebase -->
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-firestore.js"></script>

    <!-- scripts -->
    <script src="documentFunctions.js"></script>
    <script src="../src/js/wikiFunctions.js"></script>


    <script>

        function loadFile(i) {

            $(".documentTitle").text(i.replace(/%20/gi, " "));

            $.post("readphp.php", { title: i.replace(/%20/gi, " ") }, function (data, status) {

                if (status == "success") {

                    $(".inAndOut").html(data);

                }

                history.pushState("", "", i);

            });
        }

        var v = decodeURI(document.URL.split("/").pop());
        var u = v.split("#")[0];

        if (u != "") {

            loadFile(u.replace(/ /gi, "%20"));

        } else {

            loadFile("전곽위키:대문");
        }

        loadLog();

    </script>

</body>

</html>